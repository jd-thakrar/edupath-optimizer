# ============================================================================
# EDUPATH OPTIMIZER - ENVIRONMENT CONFIGURATION
# ============================================================================
# Copy this file to .env and update with your actual values
# NEVER commit .env to version control (add to .gitignore)
# ============================================================================

# ----------------------------------------------------------------------------
# FLASK APPLICATION SETTINGS
# ----------------------------------------------------------------------------
# Environment: development, production, testing
FLASK_ENV=development

# Server port (default: 5000)
PORT=5000

# Flask secret key (generate with: python -c "import secrets; print(secrets.token_hex(32))")
FLASK_SECRET_KEY=your_secret_key_here_change_in_production

# Enable debug mode (set to False in production)
FLASK_DEBUG=True

# CORS allowed origins (comma-separated, use * for development only)
CORS_ORIGINS=http://localhost:3000,http://localhost:5000,file://

# ----------------------------------------------------------------------------
# FIREBASE AUTHENTICATION & DATABASE
# ----------------------------------------------------------------------------
# Path to Firebase Admin SDK service account key JSON file
# Get from: Firebase Console > Project Settings > Service Accounts > Generate Key
FIREBASE_CREDENTIALS_PATH=firebase-admin-key.json

# Firebase project ID
FIREBASE_PROJECT_ID=your-project-id

# Firebase Web API Key (from Firebase Console > Project Settings > General)
FIREBASE_API_KEY=your-firebase-api-key

# Firebase Auth Domain
FIREBASE_AUTH_DOMAIN=your-project-id.firebaseapp.com

# Firebase Storage Bucket
FIREBASE_STORAGE_BUCKET=your-project-id.appspot.com

# Firebase Messaging Sender ID
FIREBASE_MESSAGING_SENDER_ID=123456789012

# Firebase App ID
FIREBASE_APP_ID=1:123456789012:web:abcdef123456

# ----------------------------------------------------------------------------
# AI & MACHINE LEARNING
# ----------------------------------------------------------------------------
# Google Gemini API Key for AI explanations
# Get from: https://makersuite.google.com/app/apikey
GEMINI_API_KEY=your_gemini_api_key_here

# OpenAI API Key (optional, for enhanced AI features)
OPENAI_API_KEY=your_openai_api_key_here

# Model paths (relative to backend directory)
ML_MODEL_PATH=../ml_models/risk_predictor.pkl
FEATURE_SCALER_PATH=../ml_models/feature_scaler.pkl

# ----------------------------------------------------------------------------
# DATABASE SETTINGS
# ----------------------------------------------------------------------------
# Sample student data file
SAMPLE_STUDENTS_PATH=../data/sample_students.json

# SQLite database (if using local DB instead of Firestore)
DATABASE_URL=sqlite:///edupath.db

# PostgreSQL (for production, optional)
# DATABASE_URL=postgresql://user:password@localhost:5432/edupath_db

# ----------------------------------------------------------------------------
# SECURITY & AUTHENTICATION
# ----------------------------------------------------------------------------
# JWT Secret for additional token signing (if needed)
JWT_SECRET_KEY=your_jwt_secret_key_here_change_in_production

# Token expiration time (in seconds, default: 3600 = 1 hour)
TOKEN_EXPIRATION=3600

# Password hashing rounds (bcrypt, default: 12)
BCRYPT_LOG_ROUNDS=12

# Allow demo mode without authentication (True/False)
ALLOW_DEMO_MODE=True

# ----------------------------------------------------------------------------
# EMAIL CONFIGURATION (Optional)
# ----------------------------------------------------------------------------
# SMTP settings for email notifications (password reset, etc.)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-specific-password
SMTP_USE_TLS=True
EMAIL_FROM=noreply@edupath.com

# ----------------------------------------------------------------------------
# LOGGING & MONITORING
# ----------------------------------------------------------------------------
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log file path
LOG_FILE=logs/app.log

# Enable detailed error logging
ENABLE_ERROR_TRACKING=True

# Sentry DSN for error tracking (optional)
# SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# ----------------------------------------------------------------------------
# RATE LIMITING & SECURITY
# ----------------------------------------------------------------------------
# Maximum requests per minute per IP
RATE_LIMIT_PER_MINUTE=100

# Enable request throttling
ENABLE_RATE_LIMITING=True

# Maximum file upload size (in MB)
MAX_UPLOAD_SIZE=10

# ----------------------------------------------------------------------------
# FRONTEND CONFIGURATION
# ----------------------------------------------------------------------------
# Frontend URL (for CORS and redirects)
FRONTEND_URL=http://localhost:3000

# API Base URL (for frontend to backend communication)
API_BASE_URL=http://localhost:5000/api

# ----------------------------------------------------------------------------
# CACHE SETTINGS (Optional)
# ----------------------------------------------------------------------------
# Redis URL for caching (optional)
# REDIS_URL=redis://localhost:6379/0

# Cache TTL in seconds (default: 300 = 5 minutes)
CACHE_TTL=300

# Enable caching
ENABLE_CACHE=False

# ----------------------------------------------------------------------------
# ANALYTICS & MONITORING (Optional)
# ----------------------------------------------------------------------------
# Google Analytics ID
# GA_TRACKING_ID=UA-XXXXXXXXX-X

# Firebase Analytics
# ENABLE_FIREBASE_ANALYTICS=True

# ----------------------------------------------------------------------------
# DEVELOPMENT TOOLS
# ----------------------------------------------------------------------------
# Enable SQL query logging (development only)
SQLALCHEMY_ECHO=False

# Enable Flask profiler
ENABLE_PROFILER=False

# Hot reload for development
FLASK_AUTO_RELOAD=True

# ----------------------------------------------------------------------------
# TESTING
# ----------------------------------------------------------------------------
# Test database URL
TEST_DATABASE_URL=sqlite:///test_edupath.db

# Test mode flag
TESTING=False

# ----------------------------------------------------------------------------
# BACKUP & MAINTENANCE
# ----------------------------------------------------------------------------
# Automatic backup schedule (cron format)
BACKUP_SCHEDULE=0 2 * * *

# Backup storage path
BACKUP_PATH=../backups

# Enable automatic backups
ENABLE_AUTO_BACKUP=False

# ----------------------------------------------------------------------------
# NOTES
# ----------------------------------------------------------------------------
# 1. Generate secure keys:
#    Python: secrets.token_hex(32)
#    Bash: openssl rand -hex 32
#
# 2. Firebase setup:
#    - Get credentials from Firebase Console
#    - Download service account JSON
#    - Update frontend/config/firebase-config.json too
#
# 3. Gemini API:
#    - Get key from: https://makersuite.google.com/app/apikey
#    - Used for AI-powered explanations
#
# 4. Production checklist:
#    - Set FLASK_ENV=production
#    - Set FLASK_DEBUG=False
#    - Use strong SECRET_KEY
#    - Configure CORS_ORIGINS properly
#    - Enable HTTPS
#    - Set up proper logging
#    - Configure backups
#
# ============================================================================
